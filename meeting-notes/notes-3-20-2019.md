# Meeting Notes
March 20, 2019

###### tags: `oci` `discussion`

Time: 2200 GMT (1700 EST; 1400 PST; 2300 CET; 0900 AEST)
URL: https://www.uberconference.com/opencontainers
Phone: +1 415 968 0849

## March 20, 2019

### Attendees:
  - Phil Estes
  - Vincent Batts
  - Mike Brown
  - Tianon
  - Vanessa Sochat
  - Jon Johnson
  - Kenneth Brooks
  - Samuel Karp
  - Vitalii Syrovatskyi
  - Steve Lasker
  - Clare Liguori
  - Michael Brown !! (the 2nd?) :)
  - Richard Nguyen
  - Nisha Kumar

### Agenda Items:
  - OCI support for OSS compliance (based on https://hackmd.io/xYjvPhRMSYi7FqKYc4AWDA or other?) 
  - [Catalog API Discussion](https://hackmd.io/s/BJPAUxDvV#OCI-Catalog-Listing-API---Workgroup)
  - [Artifact PR](https://github.com/opencontainers/image-spec/pull/770/)

### Notes
#### OCI support for OSS compliance
- Nisha
    - folks seem to be treating the whole image as an artifact
    - but the whole bundle is an OS, so distributing it you become an OS provider
    - Therefore it is not just the source of your application, but the source of all the components
    - there is no information about the images that were used in the production of the resulting image, and their sources
    - I see the best approach is to use annotations
    - vbatts thoughts would be to append an object that is a kind of manifest list, like:
```json
{
        "packages": [
                {
                        "name": "acl",
                        "format": "rpm",
                        "version": "2.2.51",
                        "release": "12.el7",
                        "arch": "x86_64",
                        "source": {
                                "format": "rpm",
                                "name": "acl-2.2.51-12.el7.src.rpm",
                                "digest": "sha256:deadbeef...",
                                "url": "https://my.content.store.com/..."
                        }
                }
        ]
}
```
- cont.
    - even to have a bill-of-material (BoM) would be tremendous
    - sochat: container-diff
    - this is very important, and there is some trickiness in having the runtime _and_ the source produced potentially out of band of each other, but tied to each other. From one you can discover the other. And clients can fetch only what they're interested in.
    - nisha: the other concern here is whether this is inventing new concepts that clients are not compatible with.
    - vbatts: that is definitely a point of this, to innovate withing what is already supported, or will not break existing clients even if they can not use the new features.
    - tianon has some automation around this for images built, like https://github.com/docker-library/repo-info/tree/master/repos/wordpress/local
    - nisha: feedback is to have a registry type(?) that will store metadata which can be queried independent of downloading the image but can be used to get info for said image if a user so chooses


#### Catalog Listing API thread
    - Mike B. like stevvooe's proposal: https://groups.google.com/a/opencontainers.org/d/msg/dev/MFUjpt5fxNc/MjXye3rhCQAJ
    - registry behavior on "Accepts" headers
    - tianon has seen where some Accepts can be a list in a single header, but some registries expect multiple Accept headers with a single value
        - https://github.com/docker/distribution/pull/1782 (fixed in Docker's registry implementation)
- steve lasker: catalog API
    - Can we set a deadline for use cases and constraints by end of April? This would enable us to transistion into designing an API. Perhaps, meet at KubeCon to hash out in person.
    - https://hackmd.io/s/BJPAUxDvV#OCI-Catalog-Listing-API---Workgroup
- mike b. to set of a gathering at KubeCon Barcelona

#### Registry Artifacts

- Steve Lasker
    - Would like to get some more feedback on the [image-spec PR 770](https://github.com/opencontainers/image-spec/pull/770/) before moving to a distribution-spec PR. Thanks to Venessa, Atlas & Clare thus far.
    - Planning on having the Helm 3 Repository work in alpha state by KubeCon
    - Will queue up a discussion for next weeks call
